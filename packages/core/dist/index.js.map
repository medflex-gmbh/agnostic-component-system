{"version":3,"sources":["../src/index.ts","../src/utils/componentManager.ts"],"sourcesContent":["export { initializeComponents, html, createComponent, CreateComponentFnType} from \"./utils/componentManager\";\n","import htm from \"htm\";\n\nexport type CreateComponentFnType = <P>(\n  renderFunction: (props: P) => ReturnType<typeof html>,\n  sheet?: any\n) => (props: P) => ReturnType<typeof html>;\n\nconst ComponentManager = (() => {\n  let instance: ((strings: TemplateStringsArray, ...values: any[]) => any) | null = null;\n  let createComponentFn: CreateComponentFnType | null = null;\n\n  return {\n    initialize(customH: any, customCreateComponentFn: CreateComponentFnType) {\n      if (!instance && !createComponentFn) {\n        instance = htm.bind(customH); // Bind `htm` to the provided `h` function\n        createComponentFn = customCreateComponentFn\n      } else {\n        console.warn(\"HtmlSingleton is already initialized. Returning the existing instance.\");\n      }\n      return instance;\n    },\n\n    getHtml() {\n      if (!instance) {\n        throw new Error(\"h function is not set. Please initialize it first.\");\n      }\n      return instance;\n    },\n\n    getCreateComponent() {\n      if (!createComponentFn) {\n        throw new Error(\"createComponent function is not set. Please initialize it first.\");\n      }\n      return createComponentFn;\n    }\n  };\n})();\n\nexport const html = (...args: Parameters<ReturnType<typeof ComponentManager.getHtml>>) => {\n  const instance = ComponentManager.getHtml();\n  return instance(...args);\n};\n\nexport const createComponent = <P, R>(\n  renderFunction: (props: P) => ReturnType<typeof html>,\n  sheet?: any\n): (props: P) => ReturnType<typeof html> => {\n  const createComponentFn = ComponentManager.getCreateComponent();\n  return createComponentFn(renderFunction, sheet);\n};\n\nexport const initializeComponents = ComponentManager.initialize;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;ACAA,iBAAgB;AAOhB,IAAM,mBAAoB,uBAAM;AAC9B,MAAI,WAA8E;AAClF,MAAI,oBAAkD;AAEtD,SAAO;AAAA,IACL,WAAW,SAAc,yBAAgD;AACvE,UAAI,CAAC,YAAY,CAAC,mBAAmB;AACnC,mBAAW,WAAAA,QAAI,KAAK,OAAO;AAC3B,4BAAoB;AAAA,MACtB,OAAO;AACL,gBAAQ,KAAK,wEAAwE;AAAA,MACvF;AACA,aAAO;AAAA,IACT;AAAA,IAEA,UAAU;AACR,UAAI,CAAC,UAAU;AACb,cAAM,IAAI,MAAM,oDAAoD;AAAA,MACtE;AACA,aAAO;AAAA,IACT;AAAA,IAEA,qBAAqB;AACnB,UAAI,CAAC,mBAAmB;AACtB,cAAM,IAAI,MAAM,kEAAkE;AAAA,MACpF;AACA,aAAO;AAAA,IACT;AAAA,EACF;AACF,GAAG;AAEI,IAAM,OAAO,IAAI,SAAkE;AACxF,QAAM,WAAW,iBAAiB,QAAQ;AAC1C,SAAO,SAAS,GAAG,IAAI;AACzB;AAEO,IAAM,kBAAkB,CAC7B,gBACA,UAC0C;AAC1C,QAAM,oBAAoB,iBAAiB,mBAAmB;AAC9D,SAAO,kBAAkB,gBAAgB,KAAK;AAChD;AAEO,IAAM,uBAAuB,iBAAiB;","names":["htm"]}