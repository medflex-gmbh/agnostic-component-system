{"version":3,"sources":["../../../../node_modules/vhtml/src/empty-tags.js","../../../../node_modules/vhtml/src/vhtml.js","../src/index.ts"],"sourcesContent":["export default [\n\t'area',\n\t'base',\n\t'br',\n\t'col',\n\t'command',\n\t'embed',\n\t'hr',\n\t'img',\n\t'input',\n\t'keygen',\n\t'link',\n\t'meta',\n\t'param',\n\t'source',\n\t'track',\n\t'wbr'\n];","import emptyTags from './empty-tags';\n\n// escape an attribute\nlet esc = str => String(str).replace(/[&<>\"']/g, s=>`&${map[s]};`);\nlet map = {'&':'amp','<':'lt','>':'gt','\"':'quot',\"'\":'apos'};\nlet setInnerHTMLAttr = 'dangerouslySetInnerHTML';\nlet DOMAttributeNames = {\n\tclassName: 'class',\n\thtmlFor: 'for'\n};\n\nlet sanitized = {};\n\n/** Hyperscript reviver that constructs a sanitized HTML string. */\nexport default function h(name, attrs) {\n\tlet stack=[], s = '';\n\tattrs = attrs || {};\n\tfor (let i=arguments.length; i-- > 2; ) {\n\t\tstack.push(arguments[i]);\n\t}\n\n\t// Sortof component support!\n\tif (typeof name==='function') {\n\t\tattrs.children = stack.reverse();\n\t\treturn name(attrs);\n\t\t// return name(attrs, stack.reverse());\n\t}\n\n\tif (name) {\n\t\ts += '<' + name;\n\t\tif (attrs) for (let i in attrs) {\n\t\t\tif (attrs[i]!==false && attrs[i]!=null && i !== setInnerHTMLAttr) {\n\t\t\t\ts += ` ${DOMAttributeNames[i] ? DOMAttributeNames[i] : esc(i)}=\"${esc(attrs[i])}\"`;\n\t\t\t}\n\t\t}\n\t\ts += '>';\n\t}\n\n\tif (emptyTags.indexOf(name) === -1) {\n\t\tif (attrs[setInnerHTMLAttr]) {\n\t\t\ts += attrs[setInnerHTMLAttr].__html;\n\t\t}\n\t\telse while (stack.length) {\n\t\t\tlet child = stack.pop();\n\t\t\tif (child) {\n\t\t\t\tif (child.pop) {\n\t\t\t\t\tfor (let i=child.length; i--; ) stack.push(child[i]);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\ts += sanitized[child]===true ? child : esc(child);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\ts += name ? `</${name}>` : '';\n\t}\n\n\tsanitized[s] = true;\n\treturn s;\n}\n","import { initializeComponents, html } from \"@agc-system/core\";\nimport vhtml from 'vhtml'\n\n\ninterface RenderType {\n  component: any\n  children?: any,\n  [key: string]: any,\n}\n\nfunction createComponent<P>(\n  renderFunction: (props: P) => ReturnType<typeof html>\n): (props: P) => ReturnType<typeof html> {\n  return (props: P) => {\n    return renderFunction(props);\n  };\n}\n\ninitializeComponents(vhtml, createComponent)\n\n\nexport const renderModule = ({component, children = '', ...props}: RenderType) => {\n  return html`<${component} ...${props}>${children}<//>`\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,UAAA,YAAe,CACd,QACA,QACA,MACA,OACA,WACA,SACA,MACA,OACA,SACA,UACA,QACA,QACA,SACA,UACA,SACA,KAhBc;ACGf,UAAIA,MAAM,SAANA,KAAM,KAAA;eAAOC,OAAOC,GAAP,EAAYC,QAAQ,YAAY,SAAA,GAAA;uBAAOC,IAAIC,CAAJ,IAAP;SAAhC;;AACjB,UAAID,MAAM,EAAC,KAAI,OAAM,KAAI,MAAK,KAAI,MAAK,KAAI,QAAO,KAAI,OAA5C;AACV,UAAIE,mBAAmB;AACvB,UAAIC,oBAAoB;mBACZ;iBACF;;AAGV,UAAIC,YAAY,CAAA;AAGhB,eAAwBC,EAAEC,MAAMC,OAAO;YAClCC,QAAM,CAAA,GAAIP,IAAI;gBACVM,SAAS,CAAA;iBACRE,IAAEC,UAAUC,QAAQF,MAAM,KAAK;gBACjCG,KAAKF,UAAUD,CAAV,CAAX;;YAIG,OAAOH,SAAO,YAAY;gBACvBO,WAAWL,MAAMM,QAAN;iBACVR,KAAKC,KAAL;;YAIJD,MAAM;eACJ,MAAMA;cACPC,MAAO,UAASE,MAAKF,OAAO;gBAC3BA,MAAME,EAAN,MAAW,SAASF,MAAME,EAAN,KAAU,QAAQA,OAAMP,kBAAkB;0BACxDC,kBAAkBM,EAAlB,IAAuBN,kBAAkBM,EAAlB,IAAuBb,IAAIa,EAAJ,KAAvD,OAAkEb,IAAIW,MAAME,EAAN,CAAJ,IAAlE;;;eAGG;;YAGFM,UAAUC,QAAQV,IAAlB,MAA4B,IAAI;cAC/BC,MAAML,gBAAN,GAAyB;iBACvBK,MAAML,gBAAN,EAAwBe;gBAEzB,QAAOT,MAAMG,QAAQ;gBACrBO,QAAQV,MAAMW,IAAN;gBACRD,OAAO;kBACNA,MAAMC,KAAK;yBACLV,MAAES,MAAMP,QAAQF,SAAzB;wBAAsCG,KAAKM,MAAMT,GAAN,CAAX;;qBAE5B;qBACCL,UAAUc,KAAV,MAAmB,OAAOA,QAAQtB,IAAIsB,KAAJ;;;;eAKrCZ,OAAAA,OAAYA,OAAZ,MAAsB;;kBAGlBL,CAAV,IAAe;eACRA;;;;;;;;ACzDR,mBAAkB;AADlB,SAAS,sBAAsB,YAAY;AAU3C,SAAS,gBACP,gBACuC;AACvC,SAAO,CAAC,UAAa;AACnB,WAAO,eAAe,KAAK;AAAA,EAC7B;AACF;AAEA,qBAAqB,aAAAmB,SAAO,eAAe;AAGpC,IAAM,eAAe,CAAC,EAAC,WAAW,WAAW,IAAI,GAAG,MAAK,MAAkB;AAChF,SAAO,QAAQ,SAAS,OAAO,KAAK,IAAI,QAAQ;AAClD;","names":["esc","String","str","replace","map","s","setInnerHTMLAttr","DOMAttributeNames","sanitized","h","name","attrs","stack","i","arguments","length","push","children","reverse","emptyTags","indexOf","__html","child","pop","vhtml"]}